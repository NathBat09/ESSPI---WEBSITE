{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Bar}from'react-chartjs-2';import{Chart,CategoryScale}from'chart.js/auto';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";Chart.register(CategoryScale);const BarCharts=_ref=>{let{calculations}=_ref;const[stesspiChartData,setStesspiChartData]=useState(null);const[mtesspiChartData,setMtesspiChartData]=useState(null);useEffect(()=>{console.log(\"Calculations data:\",calculations);if(calculations&&calculations.length>0){const stesspiCalculations=calculations.filter(calculation=>calculation.stesspi!==undefined&&calculation.stesspi>0);const mtesspiCalculations=calculations.filter(calculation=>calculation.mtesspi!==undefined&&calculation.mtesspi>0);console.log(\"STESSPI Calculations:\",stesspiCalculations);console.log(\"MTESSPI Calculations:\",mtesspiCalculations);const stesspiElementNames=stesspiCalculations.map(calculation=>calculation.name);const stesspiData=stesspiCalculations.map(calculation=>({value:calculation.stesspi.toFixed(2),category:calculation.category}));const mtesspiElementNames=mtesspiCalculations.map(calculation=>calculation.name);const mtesspiData=mtesspiCalculations.map(calculation=>({value:calculation.mtesspi.toFixed(2),category:calculation.category}));const colorMapping={CL:'rgba(255, 99, 132, 0.2)',EL:'rgba(54, 162, 235, 0.2)',DL:'rgba(255, 206, 86, 0.2)',NEL:'rgba(75, 192, 192, 0.2)'};const stesspiChartData={labels:stesspiElementNames,datasets:[{label:'STESSPI',backgroundColor:stesspiData.map(data=>colorMapping[data.category]),borderColor:'black',borderWidth:1,hoverBackgroundColor:stesspiData.map(data=>colorMapping[data.category]),hoverBorderColor:'black',data:stesspiData.map(data=>data.value)}]};const mtesspiChartData={labels:mtesspiElementNames,datasets:[{label:'MTESSPI',backgroundColor:mtesspiData.map(data=>colorMapping[data.category]),borderColor:'black',borderWidth:1,hoverBackgroundColor:mtesspiData.map(data=>colorMapping[data.category]),hoverBorderColor:'black',data:mtesspiData.map(data=>data.value)}]};setStesspiChartData(stesspiChartData);setMtesspiChartData(mtesspiChartData);}},[calculations]);const chartOptions={responsive:true,plugins:{legend:{labels:{font:{size:18}}},title:{display:true,text:'Chart Title',font:{size:24}}},scales:{x:{ticks:{font:{size:40}}},y:{ticks:{font:{size:40}}}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"STESSPI Chart\"}),stesspiChartData&&/*#__PURE__*/_jsx(Bar,{data:stesspiChartData,options:chartOptions}),/*#__PURE__*/_jsx(\"h2\",{children:\"MTESSPI Chart\"}),mtesspiChartData&&/*#__PURE__*/_jsx(Bar,{data:mtesspiChartData,options:chartOptions})]});};export default BarCharts;","map":{"version":3,"names":["React","useEffect","useState","Bar","Chart","CategoryScale","jsx","_jsx","jsxs","_jsxs","register","BarCharts","_ref","calculations","stesspiChartData","setStesspiChartData","mtesspiChartData","setMtesspiChartData","console","log","length","stesspiCalculations","filter","calculation","stesspi","undefined","mtesspiCalculations","mtesspi","stesspiElementNames","map","name","stesspiData","value","toFixed","category","mtesspiElementNames","mtesspiData","colorMapping","CL","EL","DL","NEL","labels","datasets","label","backgroundColor","data","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","chartOptions","responsive","plugins","legend","font","size","title","display","text","scales","x","ticks","y","children","options"],"sources":["C:/Users/user/ESSPI web app/ESSPI---WEBSITE/client/src/components/BarCharts.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { Chart, CategoryScale } from 'chart.js/auto';\r\n\r\nChart.register(CategoryScale);\r\n\r\nconst BarCharts = ({ calculations }) => {\r\n  const [stesspiChartData, setStesspiChartData] = useState(null);\r\n  const [mtesspiChartData, setMtesspiChartData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Calculations data:\", calculations);\r\n\r\n    if (calculations && calculations.length > 0) {\r\n      const stesspiCalculations = calculations.filter(calculation => calculation.stesspi !== undefined && calculation.stesspi > 0);\r\n      const mtesspiCalculations = calculations.filter(calculation => calculation.mtesspi !== undefined && calculation.mtesspi > 0);\r\n\r\n      console.log(\"STESSPI Calculations:\", stesspiCalculations);\r\n      console.log(\"MTESSPI Calculations:\", mtesspiCalculations);\r\n\r\n      const stesspiElementNames = stesspiCalculations.map(calculation => calculation.name);\r\n      const stesspiData = stesspiCalculations.map(calculation => ({\r\n        value: calculation.stesspi.toFixed(2),\r\n        category: calculation.category\r\n      }));\r\n\r\n      const mtesspiElementNames = mtesspiCalculations.map(calculation => calculation.name);\r\n      const mtesspiData = mtesspiCalculations.map(calculation => ({\r\n        value: calculation.mtesspi.toFixed(2),\r\n        category: calculation.category\r\n      }));\r\n\r\n      const colorMapping = {\r\n        CL: 'rgba(255, 99, 132, 0.2)',\r\n        EL: 'rgba(54, 162, 235, 0.2)',\r\n        DL: 'rgba(255, 206, 86, 0.2)',\r\n        NEL: 'rgba(75, 192, 192, 0.2)'\r\n      };\r\n\r\n      const stesspiChartData = {\r\n        labels: stesspiElementNames,\r\n        datasets: [{\r\n          label: 'STESSPI',\r\n          backgroundColor: stesspiData.map(data => colorMapping[data.category]),\r\n          borderColor: 'black',\r\n          borderWidth: 1,\r\n          hoverBackgroundColor: stesspiData.map(data => colorMapping[data.category]),\r\n          hoverBorderColor: 'black',\r\n          data: stesspiData.map(data => data.value),\r\n        }],\r\n      };\r\n\r\n      const mtesspiChartData = {\r\n        labels: mtesspiElementNames,\r\n        datasets: [{\r\n          label: 'MTESSPI',\r\n          backgroundColor: mtesspiData.map(data => colorMapping[data.category]),\r\n          borderColor: 'black',\r\n          borderWidth: 1,\r\n          hoverBackgroundColor: mtesspiData.map(data => colorMapping[data.category]),\r\n          hoverBorderColor: 'black',\r\n          data: mtesspiData.map(data => data.value),\r\n        }],\r\n      };\r\n\r\n      setStesspiChartData(stesspiChartData);\r\n      setMtesspiChartData(mtesspiChartData);\r\n    }\r\n  }, [calculations]);\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        labels: {\r\n          font: {\r\n            size: 18\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: 'Chart Title',\r\n        font: {\r\n          size: 24\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      x: {\r\n        ticks: {\r\n          font: {\r\n            size: 40\r\n          }\r\n        }\r\n      },\r\n      y: {\r\n        ticks: {\r\n          font: {\r\n            size: 40\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>STESSPI Chart</h2>\r\n      {stesspiChartData && <Bar data={stesspiChartData} options={chartOptions} />}\r\n      <h2>MTESSPI Chart</h2>\r\n      {mtesspiChartData && <Bar data={mtesspiChartData} options={chartOptions} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BarCharts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}