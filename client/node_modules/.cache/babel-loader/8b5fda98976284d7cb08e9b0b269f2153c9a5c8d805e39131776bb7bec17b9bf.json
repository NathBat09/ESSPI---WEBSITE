{"ast":null,"code":"import React,{useState,useEffect}from'react';import CalculationComponent from'./ESSPI_Calculator.js';import{toast}from'react-toastify';import CalculationModal from'./AddNewCalculationForm.js';import BarCharts from'./BarCharts.js';import'./global.css';import Modal from'./modal.js';import STESSPIImage from'../images/ESSPI.png';import{useHistory}from'react-router-dom';import Navbar from'./Navbar.js';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const{v4:uuidv4}=require('uuid');// Import uuidv4 for generating unique IDs\nconst ProjectDashboard=_ref=>{let{projectId,setAuth}=_ref;const history=useHistory();const[name,setName]=useState('');const[calculations,setCalculations]=useState([]);const[showCalculationModal,setShowCalculationModal]=useState(true);const[newCalculation,setNewCalculation]=useState({max_critical_recovery_time:'',complete_recovery_time:'',power_consumption:'',element_name:'',category:'',ampere:'',volts:'',name:'',quantity:''});const[pvSystemData,setPVSystemData]=useState({duration:'',peaksunhours:'',batterytype:''});const[batterySize,setBatterySize]=useState({});const[pvSystemSize,setPVSystemSize]=useState({});const[showModal,setShowModal]=useState(true);const[showCalculator,setShowCalculator]=useState(false);const[pvSystemError,setPVSystemError]=useState(null);const[projectName,setProjectName]=useState('');const[budget,setBudget]=useState('');const[projects,setProjects]=useState([]);const calculatePercentageDifference=(budget,cost)=>{return(cost/budget*100).toFixed(2);};const toggleCalculatorModal=()=>{setShowCalculator(prevState=>!prevState);};const calculateVLE=calculations=>{let CLE=0;let ELE=0;for(const calculation of calculations){if(calculation.category===\"CL\"){CLE+=calculation.power_consumption;}else if(calculation.category===\"EL\"){ELE+=calculation.power_consumption;}}return CLE+ELE;};const calculateSLE=calculations=>{let DLE=0;let NELE=0;for(const calculation of calculations){if(calculation.category===\"DL\"){DLE+=calculation.power_consumption;}else if(calculation.category===\"NEL\"){NELE+=calculation.power_consumption;}}return DLE+NELE;};const calculateSTESSPI=(calculation,VLE)=>{let power=calculation.power_consumption;if(calculation.power_consumption===0&&calculation.ampere>0&&calculation.volts>0){power=calculation.ampere*calculation.volts;}if(calculation.max_critical_recovery_time>0&&VLE>0&&(calculation.category===\"CL\"||calculation.category===\"EL\")){return power/VLE*(calculation.complete_recovery_time/calculation.max_critical_recovery_time);}return 0;};const calculateMTESSPI=(calculation,VLE,SLE)=>{let power=calculation.power_consumption;if(calculation.power_consumption===0&&calculation.ampere>0&&calculation.volts>0){power=calculation.ampere*calculation.volts;}if(calculation.max_critical_recovery_time>0&&SLE>0&&(calculation.category===\"DL\"||calculation.category===\"NEL\")){return power/(VLE+SLE)*(calculation.complete_recovery_time/calculation.max_critical_recovery_time);}return 0;};useEffect(()=>{fetchUserName();fetchCalculations();fetchPVSystemData();},[]);useEffect(()=>{const fetchProjects=async()=>{try{const response=await fetch(\"http://localhost:5000/projects\",{method:\"GET\",headers:{jwt_token:localStorage.token}});if(!response.ok){throw new Error(`HTTP error! Status: ${response.status}`);}const projectsData=await response.json();setProjects(projectsData);}catch(error){console.error(\"Error fetching projects:\",error);}};fetchProjects();},[]);useEffect(()=>{const project=projects.find(project=>project.project_id===projectId);if(project){setProjectName(project.project_name);setBudget(project.budget);}},[projects,projectId]);const fetchUserName=async()=>{try{const response=await fetch(\"http://localhost:5000/dashboard/\",{method:\"POST\",headers:{jwt_token:localStorage.token}});const parseRes=await response.json();setName(parseRes.user_name);}catch(err){console.error(err.message);}};const fetchCalculations=async()=>{try{const response=await fetch(`http://localhost:5000/projects/${projectId}/calculations`,{method:\"GET\",headers:{jwt_token:localStorage.token}});if(!response.ok){throw new Error(`HTTP error! Status: ${response.status}`);}const calculationsData=await response.json();setCalculations(calculationsData);}catch(error){console.error(\"Error fetching calculations:\",error.message);}};const fetchPVSystemData=async()=>{try{const response=await fetch(`http://localhost:5000/projects/${projectId}/pvsystems`,{method:\"GET\",headers:{jwt_token:localStorage.token}});if(!response.ok){throw new Error(`HTTP error! Status: ${response.status}`);}const pvSystemData=await response.json();setPVSystemData(pvSystemData);}catch(error){console.error(\"Error fetching PV system data:\",error.message);}};const closeCalculationModal=()=>{setShowCalculationModal(false);};const handleInputChange=e=>{const{name,value}=e.target;console.log(`Input changed - Name: ${name}, Value: ${value}`);setNewCalculation(prevCalculation=>({...prevCalculation,[name]:value}));};const minimumE=()=>{let CLE=0;for(const calculation of calculations){if(calculation.category===\"CL\"){CLE+=calculation.power_consumption;}}return CLE;};const handlePVSystemInputChange=e=>{const{name,value}=e.target;const parsedValue=name==='duration'||name==='peaksunhours'?parseFloat(value):value;setPVSystemData(prevData=>({...prevData,[name]:parsedValue}));};const handlePVSubmit=async e=>{e.preventDefault();try{const pvSystemPayload={duration:pvSystemData.duration,peaksunhours:pvSystemData.peaksunhours,batterytype:pvSystemData.batterytype,pvId:uuidv4()// Generate a unique ID for the PV system\n};const response=await fetch(`http://localhost:5000/projects/${projectId}/pvsystems`,{method:\"POST\",headers:{'Content-Type':'application/json','jwt_token':localStorage.token},body:JSON.stringify(pvSystemPayload)// Send the payload containing all necessary fields\n});if(!response.ok){throw new Error(`HTTP error! Status: ${response.status}`);}const data=await response.json();if(data.message===\"PV System added successfully!\"){toast.success(data.message);setPVSystemError(null);setPVSystemData({duration:'',peaksunhours:'',batterytype:''});}}catch(error){console.error(\"Error adding PV system:\",error.message);setPVSystemError(\"Failed to add PV system. Please try again.\");}};const handleSubmit=async e=>{e.preventDefault();let calculatedPowerConsumption=newCalculation.power_consumption;if(newCalculation.quantity!==0){calculatedPowerConsumption*=newCalculation.quantity;}const updatedCalculation={...newCalculation,power_consumption:calculatedPowerConsumption};try{// Add new calculation\nconst response=await fetch(`http://localhost:5000/projects/${projectId}/calculations`,{method:\"POST\",headers:{'Content-Type':'application/json','jwt_token':localStorage.token},body:JSON.stringify(updatedCalculation)});if(!response.ok){throw new Error(`HTTP error! Status: ${response.status}`);}// Fetch all calculations including the newly added one\nawait fetchCalculations();// Recalculate stesspi and mtesspi for all calculations\nconst VLE=calculateVLE(calculations);const SLE=calculateSLE(calculations);for(const calculation of calculations){const newSTESSPI=calculateSTESSPI(calculation,VLE).toFixed(2);const newMTESSPI=calculateMTESSPI(calculation,VLE,SLE).toFixed(2);console.log(newSTESSPI,newMTESSPI);// Update the calculation with the new stesspi and mtesspi values\nawait fetch(`http://localhost:5000/projects/${projectId}/calculations/${calculation.calculation_id}`,{method:\"PUT\",headers:{'Content-Type':'application/json','jwt_token':localStorage.token},body:JSON.stringify({stesspi:newSTESSPI,mtesspi:newMTESSPI})});}setNewCalculation({max_critical_recovery_time:'',complete_recovery_time:'',power_consumption:'',ampere:'',volts:'',name:'',category:'',quantity:''});}catch(error){console.error(\"Error adding a new calculation:\",error.message);}};const calculateBatterySize=duration=>{let minimum,BS_SHORT,BS_MID;if(pvSystemData.batterytype===\"lithium\"){minimum=minimumE(calculations)*duration*1.2;BS_SHORT=calculateVLE(calculations)*duration*1.2;BS_MID=(calculateVLE(calculations)+calculateSLE(calculations))*duration*1.2;}else if(pvSystemData.batterytype===\"lead\"){minimum=minimumE(calculations)*duration*1.75;BS_SHORT=calculateVLE(calculations)*duration*1.75;BS_MID=(calculateVLE(calculations)+calculateSLE(calculations))*duration*1.75;}const m_cost=minimum*271;const CS_SHORT=BS_SHORT*271;const CS_MID=BS_MID*271;return{minimum,BS_SHORT,BS_MID,m_cost,CS_SHORT,CS_MID};};const calculatePVSystemSize=duration=>{let minimum,PVSS_SHORT,PVSS_MID;minimum=minimumE(calculations)/pvSystemData.peaksunhours;PVSS_SHORT=calculateVLE(calculations)/pvSystemData.peaksunhours;PVSS_MID=(calculateVLE(calculations)+calculateSLE(calculations))/pvSystemData.peaksunhours;const PV_min=minimum*0.75*1000;const PVSC_SHORT=PVSS_SHORT*0.75*1000;const PVSC_MID=PVSS_MID*0.75*1000;return{minimum,PVSS_SHORT,PVSS_MID,PV_min,PVSC_SHORT,PVSC_MID};};useEffect(()=>{if(pvSystemData.duration&&pvSystemData.peaksunhours&&pvSystemData.batterytype){const batterySize=calculateBatterySize(pvSystemData.duration);const pvSystemSize=calculatePVSystemSize(pvSystemData.duration);setBatterySize(batterySize);setPVSystemSize(pvSystemSize);}},[pvSystemData,calculations]);return/*#__PURE__*/_jsxs(\"div\",{className:\"first-div\",children:[showModal&&/*#__PURE__*/_jsxs(Modal,{isOpen:showModal,setIsOpen:setShowModal,children:[/*#__PURE__*/_jsx(\"img\",{src:STESSPIImage,alt:\"ESSPI\",style:{width:'1000px',height:'auto'}}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"project-info-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"project-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"project-title\",children:[projectName,\" Dashboard\"]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"project-budget\",children:[\"Budget: $\",budget]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"toggle-button-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"toggle-button\",onClick:toggleCalculatorModal,children:\"Calculator Button\"})}),/*#__PURE__*/_jsx(Modal,{isOpen:showCalculator,setIsOpen:setShowCalculator,children:/*#__PURE__*/_jsx(CalculationModal,{show:showCalculationModal,onClose:closeCalculationModal,newCalculation:newCalculation,handleInputChange:handleInputChange,handleSubmit:handleSubmit})}),/*#__PURE__*/_jsx(\"br\",{}),calculations.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(BarCharts,{calculations:calculations}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CalculationComponent,{calculations:calculations,projectId:projectId}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"PV Systems and cost analysis\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:handlePVSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Duration (hr):\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"duration\",value:pvSystemData.duration,onChange:handlePVSystemInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Peak Sun Hours:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"peaksunhours\",value:pvSystemData.peaksunhours,onChange:handlePVSystemInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Battery Type:\",/*#__PURE__*/_jsxs(\"select\",{name:\"batterytype\",value:pvSystemData.batterytype,onChange:handlePVSystemInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Battery Type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lead\",children:\"Lead\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lithium\",children:\"Lithium\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit PV System Data\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"calculated-values-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Battery Size\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value-group\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Minimum: \",batterySize.minimum,\" kWh\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Short Term: \",batterySize.BS_SHORT,\" kWh\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Mid Term: \",batterySize.BS_MID,\" kWh\"]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Battery Cost\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value-group\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Minimum: $\",batterySize.m_cost]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Short Term: $\",batterySize.CS_SHORT]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Mid Term: $\",batterySize.CS_MID]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"calculated-values-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"PV System Size\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value-group\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Minimum: \",pvSystemSize.minimum,\" kW\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Short Term: \",pvSystemSize.PVSS_SHORT,\" kW\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Mid Term: \",pvSystemSize.PVSS_MID,\" kW\"]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"PV System Cost\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value-group\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Minimum: $\",pvSystemSize.PV_min]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Short Term: $\",pvSystemSize.PVSC_SHORT]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Mid Term: $\",pvSystemSize.PVSC_MID]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bars-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Progress Bars\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"  Minimum Battery Cost\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${calculatePercentageDifference(budget,batterySize.m_cost)}%`,backgroundColor:calculatePercentageDifference(budget,batterySize.m_cost)>=50?'blue':'red'}})}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",calculatePercentageDifference(budget,batterySize.m_cost),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"see\",children:\"  Short Term Battery Cost\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${calculatePercentageDifference(budget,batterySize.CS_SHORT)}%`,backgroundColor:calculatePercentageDifference(budget,batterySize.CS_SHORT)>=50?'blue':'red'}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"see\",children:[\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",calculatePercentageDifference(budget,batterySize.CS_SHORT),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"  Mid Term Battery Cost\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${calculatePercentageDifference(budget,batterySize.CS_MID)}%`,backgroundColor:calculatePercentageDifference(budget,batterySize.CS_MID)>=50?'blue':'red'}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"see\",children:[\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",calculatePercentageDifference(budget,batterySize.CS_MID),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"  Minimum PV System Cost\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${calculatePercentageDifference(budget,pvSystemSize.PV_min)}%`,backgroundColor:calculatePercentageDifference(budget,pvSystemSize.PV_min)>=50?'blue':'red'}})}),/*#__PURE__*/_jsxs(\"span\",{children:[calculatePercentageDifference(budget,pvSystemSize.PV_min),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"  Short Term PV System Cost\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${calculatePercentageDifference(budget,pvSystemSize.PVSC_SHORT)}%`,backgroundColor:calculatePercentageDifference(budget,pvSystemSize.PVSC_SHORT)>=50?'blue':'red'}})}),/*#__PURE__*/_jsxs(\"span\",{children:[calculatePercentageDifference(budget,pvSystemSize.PVSC_SHORT),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"  Mid Term PV System Cost\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${calculatePercentageDifference(budget,pvSystemSize.PVSC_MID)}%`,backgroundColor:calculatePercentageDifference(budget,pvSystemSize.PVSC_MID)>=50?'blue':'red'}})}),/*#__PURE__*/_jsxs(\"span\",{children:[calculatePercentageDifference(budget,pvSystemSize.PVSC_MID),\"%\"]})]})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Waiting for the elements...\"})]});};export default ProjectDashboard;","map":{"version":3,"names":["React","useState","useEffect","CalculationComponent","toast","CalculationModal","BarCharts","Modal","STESSPIImage","useHistory","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","v4","uuidv4","require","ProjectDashboard","_ref","projectId","setAuth","history","name","setName","calculations","setCalculations","showCalculationModal","setShowCalculationModal","newCalculation","setNewCalculation","max_critical_recovery_time","complete_recovery_time","power_consumption","element_name","category","ampere","volts","quantity","pvSystemData","setPVSystemData","duration","peaksunhours","batterytype","batterySize","setBatterySize","pvSystemSize","setPVSystemSize","showModal","setShowModal","showCalculator","setShowCalculator","pvSystemError","setPVSystemError","projectName","setProjectName","budget","setBudget","projects","setProjects","calculatePercentageDifference","cost","toFixed","toggleCalculatorModal","prevState","calculateVLE","CLE","ELE","calculation","calculateSLE","DLE","NELE","calculateSTESSPI","VLE","power","calculateMTESSPI","SLE","fetchUserName","fetchCalculations","fetchPVSystemData","fetchProjects","response","fetch","method","headers","jwt_token","localStorage","token","ok","Error","status","projectsData","json","error","console","project","find","project_id","project_name","parseRes","user_name","err","message","calculationsData","closeCalculationModal","handleInputChange","e","value","target","log","prevCalculation","minimumE","handlePVSystemInputChange","parsedValue","parseFloat","prevData","handlePVSubmit","preventDefault","pvSystemPayload","pvId","body","JSON","stringify","data","success","handleSubmit","calculatedPowerConsumption","updatedCalculation","newSTESSPI","newMTESSPI","calculation_id","stesspi","mtesspi","calculateBatterySize","minimum","BS_SHORT","BS_MID","m_cost","CS_SHORT","CS_MID","calculatePVSystemSize","PVSS_SHORT","PVSS_MID","PV_min","PVSC_SHORT","PVSC_MID","className","children","isOpen","setIsOpen","src","alt","style","width","height","onClick","show","onClose","length","onSubmit","type","onChange","backgroundColor"],"sources":["C:/Users/user/ESSPI-WEBSITE/ESSPI---WEBSITE/client/src/components/ProjectDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport CalculationComponent from './ESSPI_Calculator.js';\r\nimport { toast } from 'react-toastify';\r\nimport CalculationModal from './AddNewCalculationForm.js';\r\nimport BarCharts from './BarCharts.js';\r\nimport './global.css';\r\nimport Modal from './modal.js';\r\nimport STESSPIImage from '../images/ESSPI.png';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Navbar from './Navbar.js';\r\nconst { v4: uuidv4 } = require('uuid'); // Import uuidv4 for generating unique IDs\r\n\r\n\r\nconst ProjectDashboard = ({ projectId, setAuth }) => {\r\n    const history = useHistory();\r\n    const [name, setName] = useState('');\r\n    const [calculations, setCalculations] = useState([]);\r\n    const [showCalculationModal, setShowCalculationModal] = useState(true); \r\n    const [newCalculation, setNewCalculation] = useState({\r\n        max_critical_recovery_time: '',\r\n        complete_recovery_time: '',\r\n        power_consumption: '',\r\n        element_name: '',\r\n        category: '',\r\n        ampere: '',\r\n        volts: '',\r\n        name: '',\r\n        quantity: '',\r\n    });\r\n    const [pvSystemData, setPVSystemData] = useState({\r\n        duration: '',\r\n        peaksunhours: '',\r\n        batterytype: '',\r\n    });\r\n    const [batterySize, setBatterySize] = useState({});\r\n    const [pvSystemSize, setPVSystemSize] = useState({});\r\n    const [showModal, setShowModal] = useState(true);\r\n    const [showCalculator, setShowCalculator] = useState(false);\r\n    const [pvSystemError, setPVSystemError] = useState(null);\r\n    const [projectName, setProjectName] = useState('');\r\n    const [budget, setBudget] = useState('');\r\n    const [projects, setProjects] = useState([]);\r\n\r\n    const calculatePercentageDifference = (budget, cost) => {\r\n        return ((cost / budget) * 100).toFixed(2);\r\n    };\r\n  \r\n    const toggleCalculatorModal = () => {\r\n        setShowCalculator(prevState => !prevState);\r\n    };\r\n\r\n    const calculateVLE = (calculations) => {\r\n        let CLE = 0; \r\n        let ELE = 0; \r\n    \r\n        for (const calculation of calculations) {\r\n            if (calculation.category === \"CL\") {\r\n                CLE += calculation.power_consumption;\r\n            } else if (calculation.category === \"EL\") {\r\n                ELE += calculation.power_consumption;\r\n            }\r\n        }\r\n    \r\n        return CLE + ELE;\r\n    };\r\n    \r\n    const calculateSLE = (calculations) => {\r\n        let DLE = 0; \r\n        let NELE = 0; \r\n    \r\n        for (const calculation of calculations) {\r\n            if (calculation.category === \"DL\") {\r\n                DLE += calculation.power_consumption;\r\n            } else if (calculation.category === \"NEL\") {\r\n                NELE += calculation.power_consumption;\r\n            }\r\n        }\r\n    \r\n        return DLE + NELE;\r\n    };\r\n    \r\n    const calculateSTESSPI = (calculation, VLE) => {\r\n        let power = calculation.power_consumption;\r\n        if (calculation.power_consumption === 0 && calculation.ampere > 0 && calculation.volts > 0) {\r\n        power = calculation.ampere * calculation.volts;\r\n        }\r\n    \r\n        if (\r\n        (calculation.max_critical_recovery_time > 0 && VLE > 0) &&\r\n        (calculation.category === \"CL\" || calculation.category === \"EL\")\r\n        ) {\r\n            \r\n        return (\r\n            (power / VLE) *\r\n            (calculation.complete_recovery_time / calculation.max_critical_recovery_time)\r\n        );\r\n        }\r\n        return 0;\r\n    };\r\n    \r\n    const calculateMTESSPI = (calculation, VLE, SLE) => {\r\n        let power = calculation.power_consumption;\r\n        if (calculation.power_consumption === 0 && calculation.ampere > 0 && calculation.volts > 0) {\r\n            power = calculation.ampere * calculation.volts;\r\n        }\r\n      \r\n        if (\r\n            (calculation.max_critical_recovery_time > 0 && SLE > 0) &&\r\n            (calculation.category === \"DL\" || calculation.category === \"NEL\")\r\n        ) {\r\n            return (\r\n                (power / (VLE + SLE)) *\r\n                (calculation.complete_recovery_time / calculation.max_critical_recovery_time)\r\n            );\r\n        }\r\n        return 0;\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchUserName();\r\n        fetchCalculations();\r\n        fetchPVSystemData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchProjects = async () => {\r\n          try {\r\n            const response = await fetch(\"http://localhost:5000/projects\", {\r\n              method: \"GET\",\r\n              headers: { jwt_token: localStorage.token }\r\n            });\r\n    \r\n            if (!response.ok) {\r\n              throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n    \r\n            const projectsData = await response.json();\r\n            setProjects(projectsData);\r\n          } catch (error) {\r\n            console.error(\"Error fetching projects:\", error);\r\n          }\r\n        };\r\n    \r\n        fetchProjects();\r\n      }, []);\r\n    \r\n      useEffect(() => {\r\n        const project = projects.find(project => project.project_id === projectId);\r\n        if (project) {\r\n          setProjectName(project.project_name);\r\n          setBudget(project.budget);\r\n        }\r\n      }, [projects, projectId]);\r\n\r\n    const fetchUserName = async () => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:5000/dashboard/\", {\r\n                method: \"POST\",\r\n                headers: { jwt_token: localStorage.token }\r\n            });\r\n\r\n            const parseRes = await response.json();\r\n            setName(parseRes.user_name);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n    };\r\n\r\n    const fetchCalculations = async () => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/projects/${projectId}/calculations`, {\r\n                method: \"GET\",\r\n                headers: { jwt_token: localStorage.token }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n\r\n            const calculationsData = await response.json();\r\n            setCalculations(calculationsData);\r\n        } catch (error) {\r\n            console.error(\"Error fetching calculations:\", error.message);\r\n        }\r\n    };\r\n\r\n    const fetchPVSystemData = async () => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/projects/${projectId}/pvsystems`, {\r\n                method: \"GET\",\r\n                headers: { jwt_token: localStorage.token }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n\r\n            const pvSystemData = await response.json();\r\n            setPVSystemData(pvSystemData);\r\n        } catch (error) {\r\n            console.error(\"Error fetching PV system data:\", error.message);\r\n        }\r\n    };\r\n\r\n    const closeCalculationModal = () => {\r\n        setShowCalculationModal(false);\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        console.log(`Input changed - Name: ${name}, Value: ${value}`);\r\n        setNewCalculation((prevCalculation) => ({\r\n            ...prevCalculation,\r\n            [name]: value,\r\n        }));\r\n    };\r\n\r\n    const minimumE = () => {\r\n        let CLE = 0; \r\n        for (const calculation of calculations) {\r\n            if (calculation.category === \"CL\") {\r\n                CLE += calculation.power_consumption; \r\n            }\r\n        }\r\n        return CLE;\r\n    };\r\n\r\n    const handlePVSystemInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        const parsedValue = name === 'duration' || name === 'peaksunhours' ? parseFloat(value) : value;\r\n        setPVSystemData((prevData) => ({\r\n            ...prevData,\r\n            [name]: parsedValue,\r\n        }));\r\n    };\r\n\r\n    const handlePVSubmit = async (e) => {\r\n        e.preventDefault();\r\n    \r\n        try {\r\n            const pvSystemPayload = {\r\n                duration: pvSystemData.duration,\r\n                peaksunhours: pvSystemData.peaksunhours,\r\n                batterytype: pvSystemData.batterytype,\r\n                pvId: uuidv4(), // Generate a unique ID for the PV system\r\n            };\r\n    \r\n            const response = await fetch(`http://localhost:5000/projects/${projectId}/pvsystems`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'jwt_token': localStorage.token,\r\n                },\r\n                body: JSON.stringify(pvSystemPayload), // Send the payload containing all necessary fields\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            if (data.message === \"PV System added successfully!\") {\r\n                toast.success(data.message);\r\n                setPVSystemError(null);\r\n                setPVSystemData({\r\n                    duration: '',\r\n                    peaksunhours: '',\r\n                    batterytype: '',\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error adding PV system:\", error.message);\r\n            setPVSystemError(\"Failed to add PV system. Please try again.\");\r\n        }\r\n    };\r\n    \r\n    \r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        let calculatedPowerConsumption = newCalculation.power_consumption;\r\n        if (newCalculation.quantity !== 0) {\r\n            calculatedPowerConsumption *= newCalculation.quantity;\r\n        }\r\n\r\n        const updatedCalculation = { ...newCalculation, power_consumption: calculatedPowerConsumption };\r\n\r\n        try {\r\n            // Add new calculation\r\n            const response = await fetch(`http://localhost:5000/projects/${projectId}/calculations`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'jwt_token': localStorage.token,\r\n                },\r\n                body: JSON.stringify(updatedCalculation),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n\r\n            // Fetch all calculations including the newly added one\r\n            await fetchCalculations();\r\n\r\n            // Recalculate stesspi and mtesspi for all calculations\r\n            const VLE = calculateVLE(calculations);\r\n            const SLE = calculateSLE(calculations);\r\n\r\n            for (const calculation of calculations) {\r\n                const newSTESSPI = calculateSTESSPI(calculation, VLE).toFixed(2);\r\n                const newMTESSPI = calculateMTESSPI(calculation, VLE, SLE).toFixed(2);\r\n                console.log(newSTESSPI, newMTESSPI)\r\n\r\n                // Update the calculation with the new stesspi and mtesspi values\r\n                await fetch(`http://localhost:5000/projects/${projectId}/calculations/${calculation.calculation_id}`, {\r\n                    method: \"PUT\",\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'jwt_token': localStorage.token,\r\n                    },\r\n                    body: JSON.stringify({ stesspi: newSTESSPI, mtesspi: newMTESSPI }),\r\n                });\r\n            }\r\n\r\n            setNewCalculation({\r\n                max_critical_recovery_time: '',\r\n                complete_recovery_time: '',\r\n                power_consumption: '',\r\n                ampere: '',\r\n                volts: '',\r\n                name: '',\r\n                category: '',\r\n                quantity: '',\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error(\"Error adding a new calculation:\", error.message);\r\n        }\r\n    };\r\n\r\n    const calculateBatterySize = (duration) => {\r\n        let minimum, BS_SHORT, BS_MID;\r\n\r\n        if (pvSystemData.batterytype === \"lithium\") {\r\n            minimum = minimumE(calculations) * duration * 1.2;\r\n            BS_SHORT = calculateVLE(calculations) * duration * 1.2;\r\n            BS_MID = (calculateVLE(calculations) + calculateSLE(calculations)) * duration * 1.2;\r\n        } else if (pvSystemData.batterytype === \"lead\") {\r\n            minimum = minimumE(calculations) * duration * 1.75;\r\n            BS_SHORT = calculateVLE(calculations) * duration * 1.75;\r\n            BS_MID = (calculateVLE(calculations) + calculateSLE(calculations)) * duration * 1.75;\r\n        }\r\n        const m_cost = minimum * 271;\r\n        const CS_SHORT = BS_SHORT * 271;\r\n        const CS_MID = BS_MID * 271;\r\n\r\n        return { minimum, BS_SHORT, BS_MID, m_cost, CS_SHORT, CS_MID};\r\n    };\r\n\r\n    const calculatePVSystemSize = (duration) => {\r\n        let minimum, PVSS_SHORT, PVSS_MID;\r\n        \r\n        minimum = minimumE(calculations) / pvSystemData.peaksunhours;\r\n        PVSS_SHORT = calculateVLE(calculations) / pvSystemData.peaksunhours;\r\n        PVSS_MID = (calculateVLE(calculations) + calculateSLE(calculations)) / pvSystemData.peaksunhours;\r\n\r\n        const PV_min = minimum * 0.75 * 1000;\r\n        const PVSC_SHORT = PVSS_SHORT * 0.75*1000;\r\n        const PVSC_MID = PVSS_MID * 0.75*1000;\r\n\r\n        return { minimum, PVSS_SHORT, PVSS_MID, PV_min, PVSC_SHORT, PVSC_MID};\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (pvSystemData.duration && pvSystemData.peaksunhours && pvSystemData.batterytype) {\r\n            const batterySize = calculateBatterySize(pvSystemData.duration);\r\n            const pvSystemSize = calculatePVSystemSize(pvSystemData.duration);\r\n            setBatterySize(batterySize);\r\n            setPVSystemSize(pvSystemSize);\r\n        }\r\n    }, [pvSystemData, calculations]);\r\n\r\n    return (\r\n        <div className=\"first-div\">\r\n            {showModal && (\r\n                <Modal isOpen={showModal} setIsOpen={setShowModal}>\r\n                    <img src={STESSPIImage} alt=\"ESSPI\" style={{ width: '1000px', height: 'auto' }}/>  \r\n                    <br/>      \r\n                </Modal>\r\n            )}\r\n            <div className=\"project-info-container\">\r\n                <div className=\"project-info\">\r\n                    <h2 className=\"project-title\">{projectName} Dashboard</h2>\r\n                    <h3 className=\"project-budget\">Budget: ${budget}</h3>\r\n                </div>\r\n            </div>\r\n            <div className=\"toggle-button-container\">\r\n                <button className=\"toggle-button\" onClick={toggleCalculatorModal}>Calculator Button</button>\r\n            </div>\r\n    \r\n            <Modal isOpen={showCalculator} setIsOpen={setShowCalculator}>\r\n                <CalculationModal\r\n                    show={showCalculationModal}\r\n                    onClose={closeCalculationModal}\r\n                    newCalculation={newCalculation}\r\n                    handleInputChange={handleInputChange}\r\n                    handleSubmit={handleSubmit}\r\n                />\r\n            </Modal>\r\n            \r\n            <br/>\r\n            {calculations.length > 0 ? (\r\n                <>\r\n                    <br/>\r\n                    <BarCharts calculations={calculations} />\r\n                    <br/>\r\n                    <CalculationComponent calculations={calculations} projectId={projectId} />\r\n                    <br/>\r\n                    <h2>PV Systems and cost analysis</h2>\r\n                    <form className=\"form-container\" onSubmit={handlePVSubmit}>\r\n                        <label>\r\n                            Duration (hr):\r\n                            <input type=\"number\" name=\"duration\" value={pvSystemData.duration} onChange={handlePVSystemInputChange} />\r\n                        </label>\r\n                        <label>\r\n                            Peak Sun Hours:\r\n                            <input type=\"number\" name=\"peaksunhours\" value={pvSystemData.peaksunhours} onChange={handlePVSystemInputChange} />\r\n                        </label>\r\n                        <label>\r\n                            Battery Type:\r\n                            <select name=\"batterytype\" value={pvSystemData.batterytype} onChange={handlePVSystemInputChange}>\r\n                                <option value=\"\">Select Battery Type</option>\r\n                                <option value=\"lead\">Lead</option>\r\n                                <option value=\"lithium\">Lithium</option>\r\n                            </select>\r\n                        </label>\r\n                        <input type=\"submit\" value=\"Submit PV System Data\" />\r\n                    </form>\r\n                    <br/>\r\n                    <div className=\"calculated-values-container\">\r\n                        <h2>Battery Size</h2>\r\n                        <div className=\"value-group\">\r\n                            <p>Minimum: {batterySize.minimum} kWh</p>\r\n                            <p>Short Term: {batterySize.BS_SHORT} kWh</p>\r\n                            <p>Mid Term: {batterySize.BS_MID} kWh</p>\r\n                        </div>\r\n                        <h2>Battery Cost</h2>\r\n                        <div className=\"value-group\">\r\n                            <p>Minimum: ${batterySize.m_cost}</p>\r\n                            <p>Short Term: ${batterySize.CS_SHORT}</p>\r\n                            <p>Mid Term: ${batterySize.CS_MID}</p>\r\n                        </div>\r\n                    </div>\r\n    \r\n                    <div className=\"calculated-values-container\">\r\n                        <h2>PV System Size</h2>\r\n                        <div className=\"value-group\">\r\n                            <p>Minimum: {pvSystemSize.minimum} kW</p>\r\n                            <p>Short Term: {pvSystemSize.PVSS_SHORT} kW</p>\r\n                            <p>Mid Term: {pvSystemSize.PVSS_MID} kW</p>\r\n                        </div>\r\n                        <h2>PV System Cost</h2>\r\n                        <div className=\"value-group\">\r\n                            <p>Minimum: ${pvSystemSize.PV_min}</p>\r\n                            <p>Short Term: ${pvSystemSize.PVSC_SHORT}</p>\r\n                            <p>Mid Term: ${pvSystemSize.PVSC_MID}</p>\r\n                        </div>\r\n                    </div>\r\n    \r\n                    {/* Progress bars for comparing budget with costs */}\r\n                    <div className=\"progress-bars-container\">\r\n                        <h2>Progress Bars</h2>\r\n                        <div className=\"progress-bar\">\r\n                        <span>  Minimum Battery Cost</span>\r\n                        <div className=\"progress\">\r\n                            <div \r\n                            className=\"progress-fill\" \r\n                            style={{ width: `${calculatePercentageDifference(budget, batterySize.m_cost)}%`, backgroundColor: calculatePercentageDifference(budget, batterySize.m_cost) >= 50 ? 'blue' : 'red' }}\r\n                            ></div>\r\n                        </div>\r\n                        <span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{calculatePercentageDifference(budget, batterySize.m_cost)}%</span>\r\n                        </div>\r\n                        <div className=\"progress-bar\">\r\n                        <span className=\"see\">  Short Term Battery Cost</span>\r\n                        <div className=\"progress\">\r\n                            <div \r\n                            className=\"progress-fill\" \r\n                            style={{ width: `${calculatePercentageDifference(budget, batterySize.CS_SHORT)}%`, backgroundColor: calculatePercentageDifference(budget, batterySize.CS_SHORT) >= 50 ? 'blue' : 'red' }}\r\n                            ></div>\r\n                        </div>\r\n                        <span className=\"see\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{calculatePercentageDifference(budget, batterySize.CS_SHORT)}%</span>\r\n                        </div>\r\n                        <div className=\"progress-bar\">\r\n                        <span>  Mid Term Battery Cost</span>\r\n                        <div className=\"progress\">\r\n                            <div \r\n                            className=\"progress-fill\" \r\n                            style={{ width: `${calculatePercentageDifference(budget, batterySize.CS_MID)}%`, backgroundColor: calculatePercentageDifference(budget, batterySize.CS_MID) >= 50 ? 'blue' : 'red' }}\r\n                            ></div>\r\n                        </div>\r\n                        <span className=\"see\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{calculatePercentageDifference(budget, batterySize.CS_MID)}%</span>\r\n                        </div>\r\n                        <div className=\"progress-bar\">\r\n                        <span>  Minimum PV System Cost</span>\r\n                        <div className=\"progress\">\r\n                            <div \r\n                            className=\"progress-fill\" \r\n                            style={{ width: `${calculatePercentageDifference(budget, pvSystemSize.PV_min)}%`, backgroundColor: calculatePercentageDifference(budget, pvSystemSize.PV_min) >= 50 ? 'blue' : 'red' }}\r\n                            ></div>\r\n                        </div>\r\n                        <span>{calculatePercentageDifference(budget, pvSystemSize.PV_min)}%</span>\r\n                        </div>\r\n                        <div className=\"progress-bar\">\r\n                        <span>  Short Term PV System Cost</span>\r\n                        <div className=\"progress\">\r\n                            <div \r\n                            className=\"progress-fill\" \r\n                            style={{ width: `${calculatePercentageDifference(budget, pvSystemSize.PVSC_SHORT)}%`, backgroundColor: calculatePercentageDifference(budget, pvSystemSize.PVSC_SHORT) >= 50 ? 'blue' : 'red' }}\r\n                            ></div>\r\n                        </div>\r\n                        <span>{calculatePercentageDifference(budget, pvSystemSize.PVSC_SHORT)}%</span>\r\n                        </div>\r\n                        <div className=\"progress-bar\">\r\n                        <span>  Mid Term PV System Cost</span>\r\n                        <div className=\"progress\">\r\n                            <div \r\n                            className=\"progress-fill\" \r\n                            style={{ width: `${calculatePercentageDifference(budget, pvSystemSize.PVSC_MID)}%`, backgroundColor: calculatePercentageDifference(budget, pvSystemSize.PVSC_MID) >= 50 ? 'blue' : 'red' }}\r\n                            ></div>\r\n                        </div>\r\n                        <span>{calculatePercentageDifference(budget, pvSystemSize.PVSC_MID)}%</span>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            ) : (\r\n                <p>Waiting for the elements...</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProjectDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}