{"ast":null,"code":"import React,{Fragment,useState,useEffect}from'react';import'./App.css';import\"react-toastify/dist/ReactToastify.css\";import{BrowserRouter as Router,Switch,Route,Redirect}from\"react-router-dom\";import{ToastContainer}from\"react-toastify\";// Importing components\nimport Login from'./components/Login';import Register from'./components/Register';import Home from'./components/Home';import Navbar from'./components/Navbar';import About from'./components/About';import Contact from'./components/Contact';import Projects from'./components/Projects';import ResearchPage from'./components/Research';import ProjectDashboard from'./components/ProjectDashboard';// Add this import\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const setAuth=boolean=>{setIsAuthenticated(boolean);};async function isAuth(){try{const response=await fetch(\"http://localhost:5000/authentication/verify\",{method:\"POST\",headers:{\"jwt_token\":localStorage.jwtToken}});const parseRes=await response.json();parseRes===true?setIsAuthenticated(true):setIsAuthenticated(false);}catch(err){console.error(err.message);}}useEffect(()=>{isAuth();},[]);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Navbar,{showLogoutButton:isAuthenticated,setAuth:setAuth}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Research\",component:ResearchPage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/contact\",component:Contact}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/about\",component:About}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:props=>/*#__PURE__*/_jsx(Home,{...props,setAuth:setAuth})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",render:props=>isAuthenticated?/*#__PURE__*/_jsx(Redirect,{to:\"/projects\"}):/*#__PURE__*/_jsx(Login,{...props,setAuth:setAuth})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",render:props=>!isAuthenticated?/*#__PURE__*/_jsx(Register,{...props,setAuth:setAuth}):/*#__PURE__*/_jsx(Redirect,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/projects\",render:props=>isAuthenticated?/*#__PURE__*/_jsx(Projects,{...props}):/*#__PURE__*/_jsx(Redirect,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/projects/:projectId/dashboard\",render:props=>isAuthenticated?/*#__PURE__*/_jsx(ProjectDashboard,{projectId:props.match.params.projectId,setAuth:setAuth}):/*#__PURE__*/_jsx(Redirect,{to:\"/login\"})})]})})]})});}export default App;","map":{"version":3,"names":["React","Fragment","useState","useEffect","BrowserRouter","Router","Switch","Route","Redirect","ToastContainer","Login","Register","Home","Navbar","About","Contact","Projects","ResearchPage","ProjectDashboard","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","setAuth","boolean","isAuth","response","fetch","method","headers","localStorage","jwtToken","parseRes","json","err","console","error","message","children","showLogoutButton","className","exact","path","component","render","props","to","projectId","match","params"],"sources":["C:/Users/user/ESSPI-WEBSITE/ESSPI---WEBSITE/client/src/App.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\n// Importing components\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Home from './components/Home';\r\nimport Navbar from './components/Navbar'; \r\nimport About from './components/About'; \r\nimport Contact from './components/Contact'; \r\nimport Projects from './components/Projects';\r\nimport ResearchPage from './components/Research';\r\nimport ProjectDashboard from './components/ProjectDashboard'; // Add this import\r\n\r\nfunction App() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  const setAuth = (boolean) => {\r\n    setIsAuthenticated(boolean);\r\n  };\r\n\r\n  async function isAuth() {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/authentication/verify\", {\r\n        method: \"POST\",\r\n        headers: { \"jwt_token\": localStorage.jwtToken },\r\n      });\r\n  \r\n      const parseRes = await response.json();\r\n  \r\n      parseRes === true ? setIsAuthenticated(true) : setIsAuthenticated(false);\r\n  \r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  }\r\n  \r\n  useEffect(() => {\r\n    isAuth();\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Router>\r\n        <Navbar showLogoutButton={isAuthenticated} setAuth={setAuth} />\r\n        <ToastContainer />\r\n        <div className=\"container\">\r\n          <Switch>\r\n            <Route exact path=\"/Research\" component={ResearchPage} />\r\n            <Route exact path=\"/contact\" component={Contact} />\r\n            <Route exact path=\"/about\" component={About} />\r\n            <Route exact path=\"/\" render={props => <Home {...props} setAuth={setAuth} />} />\r\n            <Route exact path=\"/login\" render={props => isAuthenticated ? (<Redirect to=\"/projects\" />) : (<Login {...props} setAuth={setAuth} />)} />\r\n            <Route exact path=\"/register\" render={props => !isAuthenticated ? (<Register {...props} setAuth={setAuth} />) : (<Redirect to=\"/login\" />)} />\r\n            <Route exact path=\"/projects\" render={props => isAuthenticated ? (<Projects {...props} />) : (<Redirect to=\"/login\" />)} />\r\n            <Route exact path=\"/projects/:projectId/dashboard\" render={props => isAuthenticated ? (<ProjectDashboard projectId={props.match.params.projectId}  setAuth={setAuth} />) : (<Redirect to=\"/login\" />)} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}